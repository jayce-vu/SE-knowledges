<!doctype html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>
      PH√ÇN T√çCH CHI TI·∫æT: SECURE STORAGE CHU·∫®N BANKING (ANDROID & iOS) ¬∑ SE-knowledges
    </title>
    
    <!-- Default Meta Tags -->
    <meta name="description" content="Technical notes and articles in Vietnamese and English." />
    
    <!-- Open Graph / Facebook / LinkedIn / WhatsApp / Telegram / Discord / Slack -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/SE-knowledges/pr-preview/pr-13/security/secure-storage-banking-analysis/vi/" />
    <meta property="og:title" content="PH√ÇN T√çCH CHI TI·∫æT: SECURE STORAGE CHU·∫®N BANKING (ANDROID & iOS)" />
    <meta property="og:description" content="Technical notes and articles in Vietnamese and English." />
    <meta property="og:site_name" content="SE-knowledges" />
    <meta property="og:locale" content="vi_VN" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="/SE-knowledges/pr-preview/pr-13/security/secure-storage-banking-analysis/vi/" />
    <meta name="twitter:title" content="PH√ÇN T√çCH CHI TI·∫æT: SECURE STORAGE CHU·∫®N BANKING (ANDROID & iOS)" />
    <meta name="twitter:description" content="Technical notes and articles in Vietnamese and English." />
    
    <!-- Additional Meta Tags for Better Compatibility -->
    <meta name="theme-color" content="#0b1020" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    
    <link rel="icon" type="image/svg+xml" href="/SE-knowledges/pr-preview/pr-13/assets/favicon.svg">
    <link rel="stylesheet" href="/SE-knowledges/pr-preview/pr-13/assets/css/style.css" />
    
  </head>
  <body>
    <header class="site">
  <div class="wrap nav">
    <div class="brand">
      <a class="title" href="/SE-knowledges/pr-preview/pr-13/">SE-knowledges</a>
      <span class="subtitle">Technical notes and articles in Vietnamese and English.</span>
    </div>
    <div>
      
      
      
      

      

      
        <a class="button" href="/SE-knowledges/pr-preview/pr-13/security/secure-storage-banking-analysis/en/">English</a>
        <a class="button" href="/SE-knowledges/pr-preview/pr-13/security/secure-storage-banking-analysis/vi/">Ti·∫øng Vi·ªát</a>
      
      
      <!-- Auth Button (Hidden by default, JS toggles) -->
      <a class="button" id="auth-btn" href="/SE-knowledges/pr-preview/pr-13/login/" style="margin-left: 10px; border: 1px solid #ddd;">Login</a>
      <!-- New Post Button (Only visible when logged in) -->
      <a class="button" id="new-post-btn" href="/SE-knowledges/pr-preview/pr-13/admin/" style="margin-left: 10px; border: 1px solid #7ee787; background: rgba(126, 231, 135, 0.1); display: none;">+ New Post</a>
    </div>
  </div>
  
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const token = localStorage.getItem("token");
      const authBtn = document.getElementById("auth-btn");
      const newPostBtn = document.getElementById("new-post-btn");
      
      if (token) {
        // User is logged in
        authBtn.textContent = "Admin";
        authBtn.href = "/SE-knowledges/pr-preview/pr-13/admin/";
        newPostBtn.style.display = "inline-block";
      } else {
        // User is not logged in
        newPostBtn.style.display = "none";
      }
    });
  </script>
</header>

    <main class="wrap">
      
<meta name="pair-id" content="secure-storage-banking-analysis">


<article class="post-article">
  <!-- Post Header -->
  <header class="post-header">
    <h1 class="post-title">PH√ÇN T√çCH CHI TI·∫æT: SECURE STORAGE CHU·∫®N BANKING (ANDROID & iOS)</h1>
    
    
    <p class="post-summary">Ph√¢n t√≠ch chi ti·∫øt v·ªÅ Secure Storage chu·∫©n Banking tr√™n Android v√† iOS, bao g·ªìm Android Keystore, iOS Keychain, Secure Enclave v√† c√°c ti√™u chu·∫©n b·∫£o m·∫≠t quan tr·ªçng.</p>
    

    <div class="post-meta">
      <span class="post-date">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        January 07, 2026
      </span>
      
      <span id="view-count-container" class="post-views" style="display:none">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
          <circle cx="12" cy="12" r="3"></circle>
        </svg>
        <span id="view-count">0</span> views
      </span>

      
      <div class="post-tags">
        
          <span class="tag-pill">android</span>
        
          <span class="tag-pill">ios</span>
        
          <span class="tag-pill">security</span>
        
          <span class="tag-pill">banking</span>
        
      </div>
      
    </div>

    
      
        
        
      
    
  </header>

  <!-- Post Content -->
  <div class="post-content">
    <h2 id="b·ªëi-c·∫£nh">B·ªëi c·∫£nh</h2>

<p>Trong ph√°t tri·ªÉn ·ª©ng d·ª•ng ng√¢n h√†ng (Banking App), b·∫£o m·∫≠t d·ªØ li·ªáu l√† y·∫øu t·ªë s·ªëng c√≤n. M·ªôt trong nh·ªØng c√¢u h·ªèi quan tr·ªçng nh·∫•t t·ª´ c√°c Auditor l√†: ‚ÄúD·ªØ li·ªáu nh·∫°y c·∫£m (token, key) ƒë∆∞·ª£c l∆∞u tr·ªØ nh∆∞ th·∫ø n√†o?‚Äù. B√†i vi·∫øt n√†y ph√¢n t√≠ch chi ti·∫øt v·ªÅ Secure Storage chu·∫©n Banking tr√™n hai n·ªÅn t·∫£ng Android v√† iOS.</p>

<h2 id="i-android--android-keystore-banking-grade">I. ANDROID ‚Äì ANDROID KEYSTORE (BANKING GRADE)</h2>

<h3 id="1Ô∏è‚É£-android-keystore-l√†-g√¨-hi·ªÉu-ƒë√∫ng">1Ô∏è‚É£ Android Keystore l√† g√¨ (hi·ªÉu ƒë√∫ng)</h3>

<p>Android Keystore kh√¥ng ph·∫£i l√† n∆°i l∆∞u data, m√† l√† n∆°i l∆∞u <strong>KEY</strong>.</p>

<ul>
  <li><strong>Data (token)</strong> ‚Üí encrypt</li>
  <li><strong>Encrypted data</strong> ‚Üí l∆∞u ·ªü file/db b√¨nh th∆∞·ªùng</li>
  <li><strong>Key ƒë·ªÉ decrypt</strong> ‚Üí n·∫±m trong Keystore</li>
</ul>

<p>üëâ <strong>Attacker c√≥ file data c≈©ng kh√¥ng decrypt ƒë∆∞·ª£c n·∫øu kh√¥ng c√≥ key.</strong></p>

<h3 id="2Ô∏è‚É£-hardware-backed-tee--strongbox--v√¨-sao-c·ª±c-k·ª≥-quan-tr·ªçng">2Ô∏è‚É£ Hardware-backed (TEE / StrongBox) ‚Äì v√¨ sao c·ª±c k·ª≥ quan tr·ªçng</h3>

<p><strong>TEE (Trusted Execution Environment)</strong></p>
<ul>
  <li>Key n·∫±m trong v√πng b·∫£o m·∫≠t ph·∫ßn c·ª©ng</li>
  <li>OS, app, root kh√¥ng ƒë·ªçc ƒë∆∞·ª£c</li>
  <li>Crypto operation x·∫£y ra b√™n trong TEE</li>
</ul>

<p><strong>StrongBox (level cao h∆°n)</strong></p>
<ul>
  <li>Secure chip ri√™ng</li>
  <li>Ch·ªëng physical attack</li>
  <li>M·ªôt s·ªë device cao c·∫•p h·ªó tr·ª£</li>
</ul>

<p>üìå <strong>Auditor s·∫Ω h·ªèi:</strong></p>
<blockquote>
  <p>‚ÄúKey c√≥ hardware-backed kh√¥ng?‚Äù</p>
</blockquote>

<ul>
  <li>N·∫øu ‚ùå Software-only key ‚Üí risk cao</li>
  <li>N·∫øu ‚úÖ Hardware-backed ‚Üí pass nhi·ªÅu bank</li>
</ul>

<h3 id="3Ô∏è‚É£-key-non-exportable--s·ªëng-c√≤n">3Ô∏è‚É£ Key non-exportable ‚Äì s·ªëng c√≤n</h3>

<p><strong>Nghƒ©a l√† g√¨?</strong>
Key kh√¥ng th·ªÉ export ra ngo√†i. Kh√¥ng th·ªÉ:</p>
<ul>
  <li>dump memory</li>
  <li>backup</li>
  <li>copy sang device kh√°c</li>
</ul>

<p><strong>V√¨ sao quan tr·ªçng?</strong></p>
<ul>
  <li>Root + memory dump ‚Üí v·∫´n kh√¥ng l·∫•y ƒë∆∞·ª£c key</li>
  <li>Token b·ªã copy sang m√°y kh√°c ‚Üí decrypt fail</li>
</ul>

<p>üëâ <strong>N·∫øu key exportable ‚Üí fail audit</strong></p>

<h3 id="4Ô∏è‚É£-token-encrypt--store-encrypted-blob-lu·ªìng-chu·∫©n">4Ô∏è‚É£ Token encrypt ‚Üí store encrypted blob (lu·ªìng chu·∫©n)</h3>

<p><strong>Flow ƒë√∫ng:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[API Response]
    ‚Üì
Encrypt token b·∫±ng Keystore key
    ‚Üì
Encrypted blob (Base64)
    ‚Üì
L∆∞u file / db / SharedPreferences
</code></pre></div></div>

<p>üìå <strong>Quan tr·ªçng:</strong></p>
<ul>
  <li>Kh√¥ng bao gi·ªù l∆∞u raw token</li>
  <li>SharedPreferences ch·ªâ ch·ª©a blob ƒë√£ encrypt</li>
</ul>

<p><strong>Auditor s·∫Ω ki·ªÉm tra:</strong></p>
<ul>
  <li>Dump filesystem</li>
  <li>N·∫øu th·∫•y raw token ‚Üí fail</li>
</ul>

<h3 id="5Ô∏è‚É£-tie-key-v·ªõi-user-authentication">5Ô∏è‚É£ Tie key v·ªõi User Authentication</h3>

<p><strong>Nghƒ©a l√† g√¨?</strong>
Key ch·ªâ d√πng ƒë∆∞·ª£c sau khi user auth:</p>
<ul>
  <li>PIN</li>
  <li>Password</li>
  <li>Biometrics</li>
</ul>

<p><strong>K·∫øt qu·∫£:</strong></p>
<ul>
  <li>M·ªü app nh∆∞ng ch∆∞a auth ‚Üí decrypt fail</li>
  <li>App b·ªã background l√¢u ‚Üí ph·∫£i auth l·∫°i</li>
</ul>

<p>üëâ <strong>Ch·ªëng:</strong></p>
<ul>
  <li>Stolen device</li>
  <li>App auto-login nguy hi·ªÉm</li>
</ul>

<h3 id="6Ô∏è‚É£-tie-key-v·ªõi-device-lock">6Ô∏è‚É£ Tie key v·ªõi Device Lock</h3>

<p><strong>√ù nghƒ©a:</strong></p>
<ul>
  <li>Device ph·∫£i c√≥ lock screen</li>
  <li>User t·∫Øt lock ‚Üí key b·ªã invalidate</li>
</ul>

<p>üìå <strong>Banking app th∆∞·ªùng:</strong></p>
<ul>
  <li>B·∫Øt bu·ªôc device c√≥ PIN/Pattern</li>
  <li>Kh√¥ng c√≥ ‚Üí ch·∫∑n app</li>
</ul>

<h3 id="7Ô∏è‚É£-tie-key-v·ªõi-biometric-optional-nh∆∞ng-r·∫•t-m·∫°nh">7Ô∏è‚É£ Tie key v·ªõi Biometric (optional nh∆∞ng r·∫•t m·∫°nh)</h3>

<p>Key ch·ªâ usable sau biometric success. D√πng cho:</p>
<ul>
  <li>Transfer</li>
  <li>View sensitive data</li>
</ul>

<p>üìå <strong>Quan tr·ªçng:</strong></p>
<ul>
  <li>Biometric kh√¥ng thay th·∫ø PIN</li>
  <li>Ch·ªâ l√† l·ªõp ti·ªán l·ª£i + security th√™m</li>
</ul>

<h2 id="ii-ios--keychain--secure-enclave-banking-grade">II. iOS ‚Äì KEYCHAIN + SECURE ENCLAVE (BANKING GRADE)</h2>

<h3 id="1Ô∏è‚É£-ios-keychain--kh√°c-userdefaults-ch·ªó-n√†o">1Ô∏è‚É£ iOS Keychain ‚Äì kh√°c UserDefaults ch·ªó n√†o?</h3>

<table>
  <thead>
    <tr>
      <th>¬†</th>
      <th>Keychain</th>
      <th>UserDefaults</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Encrypt</strong></td>
      <td>Plain text</td>
      <td>¬†</td>
    </tr>
    <tr>
      <td><strong>OS protected</strong></td>
      <td>File</td>
      <td>¬†</td>
    </tr>
    <tr>
      <td><strong>Hardware support</strong></td>
      <td>Kh√¥ng</td>
      <td>¬†</td>
    </tr>
    <tr>
      <td><strong>Audit accepted</strong></td>
      <td>‚ùå</td>
      <td>¬†</td>
    </tr>
  </tbody>
</table>

<p>Keychain l√† secure storage ch√≠nh th·ª©c c·ªßa iOS.</p>

<h3 id="2Ô∏è‚É£-ksecattraccessiblewhenunlockedthisdeviceonly">2Ô∏è‚É£ kSecAttrAccessibleWhenUnlockedThisDeviceOnly</h3>

<p><strong>Gi·∫£i th√≠ch t·ª´ng ph·∫ßn:</strong></p>
<ul>
  <li><strong>WhenUnlocked:</strong> Ch·ªâ truy c·∫≠p khi device ƒëang unlock</li>
  <li><strong>ThisDeviceOnly:</strong>
    <ul>
      <li>Kh√¥ng backup</li>
      <li>Kh√¥ng sync iCloud</li>
      <li>Kh√¥ng restore sang device kh√°c</li>
    </ul>
  </li>
</ul>

<p>üëâ <strong>ƒê√¢y l√† flag b·∫Øt bu·ªôc trong banking</strong></p>

<p><strong>Auditor s·∫Ω h·ªèi:</strong></p>
<blockquote>
  <p>‚ÄúKeychain item c√≥ restore ƒë∆∞·ª£c kh√¥ng?‚Äù</p>
</blockquote>

<h3 id="3Ô∏è‚É£-secure-enclave--level-cao-nh·∫•t-c·ªßa-ios">3Ô∏è‚É£ Secure Enclave ‚Äì level cao nh·∫•t c·ªßa iOS</h3>

<p><strong>Secure Enclave l√† g√¨?</strong></p>
<ul>
  <li>Chip b·∫£o m·∫≠t ri√™ng</li>
  <li>Key n·∫±m trong hardware</li>
  <li>OS kh√¥ng ƒë·ªçc ƒë∆∞·ª£c</li>
</ul>

<p><strong>Banking d√πng th·∫ø n√†o?</strong></p>
<ul>
  <li>Key generate trong Secure Enclave</li>
  <li>Key non-exportable</li>
  <li>Crypto operation trong enclave</li>
</ul>

<p>üìå <strong>Kh√¥ng ph·∫£i device n√†o c≈©ng c√≥, nh∆∞ng:</strong></p>
<ul>
  <li>N·∫øu c√≥ ‚Üí n√™n d√πng</li>
  <li>N·∫øu kh√¥ng ‚Üí Keychain software-backed (still OK)</li>
</ul>

<h3 id="4Ô∏è‚É£-kh√¥ng-sync-icloud--v√¨-sao">4Ô∏è‚É£ Kh√¥ng sync iCloud ‚Äì v√¨ sao?</h3>

<p>N·∫øu sync iCloud:</p>
<ul>
  <li>Token ‚Üí upload cloud</li>
  <li>Restore ‚Üí device kh√°c decrypt ƒë∆∞·ª£c
‚ùå <strong>Fail banking policy</strong></li>
</ul>

<p>üëâ <strong>Ph·∫£i:</strong></p>
<ul>
  <li>Disable iCloud sync</li>
  <li>Use <code class="language-plaintext highlighter-rouge">ThisDeviceOnly</code></li>
</ul>

<h3 id="5Ô∏è‚É£-device-only-binding-c·ªët-l√µi">5Ô∏è‚É£ Device-only binding (c·ªët l√µi)</h3>

<p><strong>Nghƒ©a l√†:</strong>
Token g·∫Øn v·ªõi:</p>
<ul>
  <li>App instance</li>
  <li>Device hardware</li>
</ul>

<p>Copy sang device kh√°c ‚Üí v√¥ d·ª•ng</p>

<p>üìå <strong>Combined v·ªõi backend:</strong></p>
<ul>
  <li>Backend l∆∞u device_id</li>
  <li>Token ch·ªâ h·ª£p l·ªá cho device ƒë√≥</li>
</ul>

<h2 id="iii-auditor-nh√¨n-v√†o-ƒë√¢u">III. Auditor nh√¨n v√†o ƒë√¢u?</h2>

<p><strong>Android:</strong></p>
<ul>
  <li>Key hardware-backed?</li>
  <li>Non-exportable?</li>
  <li>Token raw c√≥ t·ªìn t·∫°i kh√¥ng?</li>
  <li>Key tied v·ªõi auth?</li>
  <li>Root detect ‚Üí wipe key?</li>
</ul>

<p><strong>iOS:</strong></p>
<ul>
  <li>Keychain access control?</li>
  <li>iCloud disabled?</li>
  <li>Secure Enclave used?</li>
  <li>Backup/restore test?</li>
</ul>

<h2 id="iv-nh·ªØng-l·ªói-ph·ªï-bi·∫øn-khi·∫øn-fail-audit">IV. Nh·ªØng l·ªói ph·ªï bi·∫øn khi·∫øn FAIL AUDIT</h2>

<ul>
  <li>D√πng SharedPreferences/UserDefaults cho token</li>
  <li>Key software-only</li>
  <li>Cho ph√©p backup</li>
  <li>Token decrypt ƒë∆∞·ª£c khi app background</li>
  <li>Kh√¥ng wipe key khi root/JB</li>
</ul>

<h2 id="v-k·∫øt-lu·∫≠n-ng·∫Øn-g·ªçn">V. K·∫øt lu·∫≠n ng·∫Øn g·ªçn</h2>

<ul>
  <li>Token kh√¥ng quan tr·ªçng b·∫±ng <strong>KEY</strong></li>
  <li>Key kh√¥ng n·∫±m trong hardware ‚Üí <strong>kh√¥ng ph·∫£i banking-grade</strong></li>
</ul>

  </div>
</article>

<!-- Highlight.js for syntax highlighting -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css">
<script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
<script>
  window.VIEW_API_URL = "https://se-knowledges.jayce-it-work.workers.dev";
  
  // Apply syntax highlighting to code blocks after page load
  document.addEventListener("DOMContentLoaded", () => {
    if (typeof hljs !== 'undefined') {
      document.querySelectorAll('.post-content pre code').forEach((block) => {
        hljs.highlightElement(block);
      });
    }
  });
</script>
<script src="/SE-knowledges/pr-preview/pr-13/assets/js/view-count.js"></script>

<!-- Back Button -->
<nav class="post-navigation">
  
    <a href="/SE-knowledges/pr-preview/pr-13/vi/" class="back-link">
  
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="15 18 9 12 15 6"></polyline>
    </svg>
    
      Quay l·∫°i danh s√°ch
    
  </a>
</nav>


    </main>
    <footer class="site">
  <div class="wrap">
    <div class="panel">
      <div>
        <span class="pill">EN/VI</span>
        <span class="pill">GitHub Pages</span>
        <span class="pill">Jekyll</span>
      </div>
      <div style="margin-top: 10px;">
        ¬© 2026 SE-knowledges. Built with Jekyll on GitHub Pages.
      </div>
    </div>
  </div>
</footer>


    
    <!-- Global API Configuration -->
    <script>
      window.API_URL = "https://se-knowledges.jayce-it-work.workers.dev";
      window.VIEW_API_URL = "https://se-knowledges.jayce-it-work.workers.dev";
      console.log("API URL configured:", window.API_URL);
    </script>
    
    <!-- Load utils.js for all pages -->
    <script src="/SE-knowledges/pr-preview/pr-13/assets/js/utils.js"></script>
    
    <!-- Page-specific scripts -->
    
    
    
    
    
    
    
    
    <!-- Verify utils loaded -->
    <script>
      console.log("Utils loaded:", typeof parseApiResponse !== 'undefined');
    </script>
  </body>
</html>

